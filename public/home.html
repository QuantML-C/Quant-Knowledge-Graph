<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuantML çŸ¥è¯†å›¾è°± | é¦–é¡µ</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        header {
            margin-bottom: 30px;
        }
        .hero {
            background: linear-gradient(135deg, #1f77b4 0%, #4dabf7 100%);
            color: #fff;
            border-radius: 16px;
            padding: 36px 28px;
            box-shadow: 0 8px 20px rgba(31, 119, 180, 0.25);
        }
        .hero h1 {
            font-size: 2rem;
            margin: 0 0 10px 0;
        }
        .hero p {
            margin: 0;
            opacity: 0.95;
            line-height: 1.6;
        }
        .hero-actions {
            margin-top: 18px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: #ffffff;
            color: #1f77b4;
            border: none;
            border-radius: 22px;
            padding: 10px 14px;
            font-weight: bold;
            text-decoration: none;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(255,255,255,0.2);
        }
        .btn.secondary { background: rgba(255,255,255,0.15); color: #fff; box-shadow: none; border: 1px solid rgba(255,255,255,0.25); }
        .btn:hover { filter: brightness(0.98); }
        .top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 16px 0 32px 0;
        }
        .search-wrap {
            display: flex;
            gap: 8px;
            flex: 1;
            max-width: 640px;
        }
        #home-search {
            flex: 1;
            padding: 12px 16px 12px 40px;
            border-radius: 24px;
            border: 1px solid #ddd;
            background: #fff url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="%23999" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg>') no-repeat 12px center;
            font-size: 14px;
        }
        .search-btn { padding: 12px 18px; border-radius: 24px; background: #1f77b4; color: #fff; border: none; cursor: pointer; }
        .search-btn:hover { background: #155d8e; }
        .dark-toggle { margin-left: 12px; padding: 10px 12px; border-radius: 20px; background: #eee; border: none; cursor: pointer; }
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 16px;
            margin-bottom: 28px;
        }
        .stat-card {
            background: #fff;
            border-radius: 10px;
            padding: 16px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
        }
        .stat-label { color: #666; font-size: 12px; }
        .stat-value { font-size: 22px; color: #1f77b4; font-weight: bold; margin-top: 6px; }
        .sections {
            display: grid;
            grid-template-columns: 1.2fr 0.8fr;
            gap: 24px;
        }
        @media (max-width: 900px) {
            .sections { grid-template-columns: 1fr; }
            .search-wrap { max-width: none; }
        }
        .card {
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
            padding: 18px;
        }
        .card h3 { margin: 0 0 12px 0; }
        .tag-cloud { display: flex; flex-wrap: wrap; gap: 8px; }
        .tag-chip {
            display: inline-block;
            padding: 6px 10px;
            border-radius: 16px;
            background: #eef6fd;
            color: #1f77b4;
            cursor: pointer;
            border: 1px solid #d7ebfb;
            font-size: 12px;
        }
        .tag-chip:hover { background: #dff0ff; }
        .paper-list { list-style: none; padding: 0; margin: 0; }
        .paper-item { padding: 10px 0; border-bottom: 1px dashed #eee; }
        .paper-item:last-child { border-bottom: none; }
        .paper-title { font-weight: bold; }
        .paper-meta { color: #777; font-size: 12px; margin-top: 4px; }
        .visualizations { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 20px; }
        .viz-card { background-color: white; border-radius: 10px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); overflow: hidden; transition: transform 0.3s, box-shadow 0.3s; }
        .viz-card:hover { transform: translateY(-5px); box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15); }
        .viz-img { width: 100%; height: 180px; background-size: cover; background-position: center; }
        .viz-content { padding: 16px; }
        .viz-title { font-size: 1.1rem; margin: 0 0 8px 0; color: #1f77b4; }
        .viz-description { color: #555; font-size: 13px; line-height: 1.5; }
        .viz-link { display: inline-block; margin-top: 10px; background-color: #1f77b4; color: white; padding: 8px 12px; border-radius: 6px; text-decoration: none; font-weight: bold; }
        .viz-link:hover { background-color: #155d8e; }
        footer { margin-top: 40px; text-align: center; color: #777; font-size: 0.9rem; }
        /* Dark theme */
        body.dark { background-color: #0f1115; color: #e8e8e8; }
        body.dark .hero { background: linear-gradient(135deg, #111827 0%, #1f2937 100%); box-shadow: 0 8px 20px rgba(17,24,39,0.55); }
        body.dark .btn { background: #1f77b4; color: #fff; }
        body.dark .btn.secondary { background: rgba(255,255,255,0.08); border-color: rgba(255,255,255,0.15); }
        body.dark .search-btn { background: #1f77b4; }
        body.dark #home-search { background-color: #121721; color: #e8e8e8; border-color: #2a2f3a; }
        body.dark .stat-card, body.dark .card, body.dark .viz-card { background: #121721; box-shadow: 0 4px 12px rgba(0,0,0,0.35); }
        body.dark .viz-title { color: #76c0ff; }
        body.dark .tag-chip { background: #0e1621; color: #9cd3ff; border-color: #1b2836; }
        body.dark .tag-chip:hover { background: #112031; }
        body.dark .dark-toggle { background: #121721; color: #e8e8e8; border: 1px solid #2a2f3a; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="hero">
                <h1>QuantML é‡åŒ–è®ºæ–‡çŸ¥è¯†å›¾è°±</h1>
                <p>ç¤¾åŒºè‡´åŠ›äºæœºå™¨å­¦ä¹ é‡åŒ–æ¨¡å‹æ·±åº¦ç ”ç©¶ï¼Œæ¯å¤©åˆ†äº«å‰æ²¿è®ºæ–‡ã€ç­–ç•¥ä»£ç ä¸ Alpha å› å­ã€‚è¿æ¥è®ºæ–‡ä¸ä¸»é¢˜ï¼ŒåŠ©ä½ é«˜æ•ˆæ¢ç´¢ã€‚</p>
                <div class="hero-actions">
                    <a href="index.html" class="btn">è¿›å…¥ è®ºæ–‡-æ ‡ç­¾å›¾è°±</a>
                    <a href="tag-graph.html" class="btn secondary">è¿›å…¥ æ ‡ç­¾å…³ç³»å›¾è°±</a>
                </div>
            </div>
            <div class="top-bar">
                <div class="search-wrap">
                    <input id="home-search" placeholder="æœç´¢è®ºæ–‡æ ‡é¢˜æˆ–æ ‡ç­¾ï¼Œå›è½¦ç›´è¾¾å¯è§†åŒ–..." list="home-suggestions" />
                    <datalist id="home-suggestions"></datalist>
                    <button class="search-btn" id="home-search-go">æœç´¢</button>
                </div>
                <button class="dark-toggle" id="home-toggle-dark">ğŸŒ“</button>
            </div>
            <div class="stats">
                <div class="stat-card"><div class="stat-label">è®ºæ–‡æ•°é‡</div><div class="stat-value" id="stat-papers">-</div></div>
                <div class="stat-card"><div class="stat-label">ä¸»é¢˜æ ‡ç­¾</div><div class="stat-value" id="stat-tags">-</div></div>
                <div class="stat-card"><div class="stat-label">æ—¶é—´è·¨åº¦</div><div class="stat-value" id="stat-years">-</div></div>
            </div>
        </header>

        <div class="sections">
            <div>
                <div class="card">
                    <h3>çƒ­é—¨æ ‡ç­¾</h3>
                    <div class="tag-cloud" id="tag-cloud"></div>
                </div>
                <div class="card" style="margin-top:16px;">
                    <h3>å¿«é€Ÿå…¥å£</h3>
                    <div class="visualizations">
                        <div class="viz-card">
                            <div class="viz-img" style="background-image: url('https://images.unsplash.com/photo-1501504905252-473c47e087f8?auto=format&fit=crop&w=800&q=60');"></div>
                            <div class="viz-content">
                                <h4 class="viz-title">è®ºæ–‡-æ ‡ç­¾å›¾è°±</h4>
                                <p class="viz-description">ç›´è§‚æŸ¥çœ‹æ¯ç¯‡è®ºæ–‡ä¸å…¶ä¸»é¢˜ä¹‹é—´çš„è¿æ¥ï¼Œç‚¹å‡»èŠ‚ç‚¹æŸ¥çœ‹æ‘˜è¦ã€ä½œè€…ä¸å¹´ä»½ã€‚</p>
                                <a href="index.html" class="viz-link">è¿›å…¥</a>
                            </div>
                        </div>
                        <div class="viz-card">
                            <div class="viz-img" style="background-image: url('https://images.unsplash.com/photo-1557324232-b8917d3c3dcb?auto=format&fit=crop&w=800&q=60');"></div>
                            <div class="viz-content">
                                <h4 class="viz-title">æ ‡ç­¾å…³ç³»å›¾è°±</h4>
                                <p class="viz-description">å‘ç°ä¸»é¢˜ä¹‹é—´çš„å…±ç°å…³ç³»ä¸èšç±»ç»“æ„ï¼Œç‚¹å‡»æ ‡ç­¾æŸ¥çœ‹ç›¸å…³è®ºæ–‡åˆ—è¡¨ã€‚</p>
                                <a href="tag-graph.html" class="viz-link">è¿›å…¥</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div>
                <div class="card">
                    <h3>æœ€æ–°è®ºæ–‡</h3>
                    <ul class="paper-list" id="latest-papers"></ul>
                </div>
            </div>
        </div>

        <footer>
            <p>æ²ªICPå¤‡2024094409å·-1</p>
        </footer>
    </div>

    <script>
        // ä¸»é¢˜åˆå§‹åŒ–ï¼Œä¸å›¾è°±é¡µä¸€è‡´
        (function initTheme(){
            const t = localStorage.getItem('qkg_theme') || 'light';
            if (t === 'dark') document.body.classList.add('dark');
        })();
        document.getElementById('home-toggle-dark').addEventListener('click', function(){
            document.body.classList.toggle('dark');
            localStorage.setItem('qkg_theme', document.body.classList.contains('dark') ? 'dark' : 'light');
        });

        // åŠ è½½æ•°æ®ï¼Œå¡«å……ç»Ÿè®¡ã€æ ‡ç­¾äº‘ã€æœ€æ–°è®ºæ–‡ã€æœç´¢å»ºè®®
        let allPapers = [];
        let allTags = [];
        fetch('papers.json')
            .then(r => r.json())
            .then(papers => {
                allPapers = papers;
                const tagCount = new Map();
                const years = [];
                papers.forEach(p => {
                    const y = (typeof p.year === 'number') ? p.year : null;
                    if (y !== null) years.push(y);
                    if (Array.isArray(p.tags)) {
                        p.tags.forEach(t => tagCount.set(t, (tagCount.get(t) || 0) + 1));
                    }
                });
                allTags = Array.from(tagCount.keys());

                // ç»Ÿè®¡
                document.getElementById('stat-papers').textContent = papers.length;
                document.getElementById('stat-tags').textContent = allTags.length;
                if (years.length) {
                    const minY = Math.min(...years), maxY = Math.max(...years);
                    document.getElementById('stat-years').textContent = `${minY} - ${maxY}`;
                } else {
                    document.getElementById('stat-years').textContent = '-';
                }

                // æ ‡ç­¾äº‘ï¼ˆTop 20ï¼‰
                const topTags = Array.from(tagCount.entries()).sort((a,b) => b[1]-a[1]).slice(0, 20);
                const maxC = topTags.length ? topTags[0][1] : 1;
                const cloud = document.getElementById('tag-cloud');
                topTags.forEach(([tag, cnt]) => {
                    const a = document.createElement('span');
                    a.className = 'tag-chip';
                    const scale = 0.9 + 0.8 * (cnt / maxC);
                    a.style.fontSize = `${12 * scale}px`;
                    a.textContent = `${tag} (${cnt})`;
                    a.title = 'åœ¨å¯è§†åŒ–ä¸­æŸ¥çœ‹è¯¥æ ‡ç­¾';
                    a.addEventListener('click', () => {
                        // é»˜è®¤è¿›å…¥æ ‡ç­¾å…³ç³»å›¾è°±
                        location.href = `tag-graph.html#${encodeURIComponent(tag)}`;
                    });
                    cloud.appendChild(a);
                });

                // æœ€æ–°è®ºæ–‡ï¼ˆæŒ‰å¹´ä»½é™åºï¼›æ— å¹´ä»½æ’æœ€åï¼‰
                const latest = papers.slice().sort((a,b) => {
                    const ya = (typeof a.year === 'number') ? a.year : -Infinity;
                    const yb = (typeof b.year === 'number') ? b.year : -Infinity;
                    return yb - ya;
                }).slice(0, 6);
                const lp = document.getElementById('latest-papers');
                latest.forEach(p => {
                    const li = document.createElement('li');
                    li.className = 'paper-item';
                    const title = document.createElement('div');
                    title.className = 'paper-title';
                    title.textContent = p.title;
                    const meta = document.createElement('div');
                    meta.className = 'paper-meta';
                    const authors = Array.isArray(p.authors) ? p.authors.join(', ') : 'Unknown';
                    meta.textContent = `${(p.year || 'Unknown')} Â· ${authors}`;
                    li.appendChild(title);
                    li.appendChild(meta);
                    li.addEventListener('click', () => {
                        // è¿›å…¥è®ºæ–‡-æ ‡ç­¾å›¾è°±å¹¶èšç„¦åˆ°è¯¥è®ºæ–‡
                        location.href = `index.html#${encodeURIComponent(p.id)}`;
                    });
                    lp.appendChild(li);
                });

                // æœç´¢å»ºè®®ï¼šè®ºæ–‡æ ‡é¢˜ + æ ‡ç­¾
                const dl = document.getElementById('home-suggestions');
                papers.forEach(p => {
                    const opt = document.createElement('option');
                    opt.value = p.title;
                    dl.appendChild(opt);
                });
                allTags.forEach(t => {
                    const opt = document.createElement('option');
                    opt.value = t;
                    dl.appendChild(opt);
                });
            });

        function goSearch() {
            const q = document.getElementById('home-search').value.trim().toLowerCase();
            if (!q) return;
            // å°è¯•åŒ¹é…è®ºæ–‡
            const p = allPapers.find(x => (x.title || '').toLowerCase().includes(q));
            if (p) {
                location.href = `index.html#${encodeURIComponent(p.id)}`;
                return;
            }
            // å°è¯•åŒ¹é…æ ‡ç­¾
            const t = allTags.find(x => (x || '').toLowerCase() === q || (x || '').toLowerCase().includes(q));
            if (t) {
                // é»˜è®¤è·³è½¬è®ºæ–‡-æ ‡ç­¾å›¾è°±ï¼Œå¹¶å®šä½æ ‡ç­¾ï¼›å¯æ”¹ä¸º tag-graph.html
                location.href = `index.html#${encodeURIComponent('tag-' + t)}`;
                return;
            }
            // æœªå‘½ä¸­åˆ™è·³åˆ°å›¾è°±ä¸»ç•Œé¢
            location.href = 'index.html';
        }
        document.getElementById('home-search-go').addEventListener('click', goSearch);
        document.getElementById('home-search').addEventListener('keydown', function(e){ if (e.key === 'Enter') goSearch(); });
    </script>
</body>
</html> 